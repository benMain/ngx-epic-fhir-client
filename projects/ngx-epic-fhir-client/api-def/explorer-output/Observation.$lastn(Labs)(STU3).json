{"Id":10188,"Description":"<p>The Observation (Labs) resource represents component level data for lab results. Observation is limited to reading microbiology sensitivities (method level, isolate level, and sensitivity level), lab component results, and textual (narrative and impression) Observations. To identify all lab procedures performed for a patient, a client might consider using the DiagnosticReport resource instead, which will contain pointers to one or more Observation resources that contain the component results. If you are familiar with HL7v2, DiagnosticReport is analogous to an OBR segment, where Observation is like an OBX segment.</p>\n<p>For example, consider a CBC (Complete Blood Count) test. The overall CBC test would be represented as a DiagnosticReport resource. The component results (white blood cell count, red blood cell count, hemoglobin, platelet count, etc.) would each be returned in independent Observation resources.</p>\n<p>The $lastn interaction shares much with the standard Search interaction, but serves a more specific function by returning the most recent lab results of a particular category for a patient. For example, if the category is hematology, the $lastn operation will return each of the most recent lab results for hematology, such as the most recent white blood cell count, the most recent hemoglobin count, the most recent platelet count, and so on. This is distinct from using the Search interaction in that $lastn will return the most recent results from each subtype of a category, whereas a Search interaction returns all of the hematology results ever recorded for a patient that meet the specified search parameters, including historical results that might be superseded by more recent results.</p>\n<p>$lastn supports searching only by certain SNOMED code categories. Result components in Epic must be mapped to one of the supported SNOMED codes in order to be returned as part of a $lastn response. If a client wants to search on a specific result component ID or LOINC code, the client should instead use the Search interaction, which supports code as a search parameter. </p>\n<p>The category element is populated with SNOMED codes. These codes are based on a mapping an internal ID to external SNOMED codes. The following SNOMED codes are supported, and must be mapped in the External Mapping Utility:</p>\n<ul>\n<li>252275004-Hematology (Hematologie)</li>\n<li>275711006-Chemistry (Klinische chemie)</li>\n<li>68793005-Serology (Serologie/ immunologie)</li>\n<li>395124008-Virology (Virologie)</li>\n<li>314076009-Toxicology (Toxicologie)</li>\n<li>19851009-Microbiology (Microbiologie)</li>\n<li>405825005-Molecular genetics (Moleculaire genetica)</li>\n</ul>\n","Namespace":"N/A","WsdlFile":"N/A","HttpMethod":"GET","UrlTemplate":"/api/FHIR/STU3/Observation/$lastn?patient={patient}&category={category}&max={max}","SampleRequest":"https://hostname/instance/api/FHIR/STU3/Observation/$lastn?patient=em2zwhHegmZEu39N4dUEIYA3&amp;category=252275004&amp;max=1","SampleResponse":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"searchset\",\n    \"total\": 3,\n    \"link\": [\n        {\n            \"relation\": \"self\",\n            \"url\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Observation/$lastn?patient=em2zwhHegmZEu39N4dUEIYA3&amp;category=252275004&amp;max=1\"\n        }\n    ],\n    \"entry\": [\n        {\n            \"link\": [\n                {\n                    \"relation\": \"self\",\n                    \"url\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Observation/eVNtTeUk7rGw8ANthUDzdf.IrotX5l7bNlJwQLYSK81YjjyRGrTdmi2y5J4gLwMvA3\"\n                }\n            ],\n            \"fullUrl\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Observation/eVNtTeUk7rGw8ANthUDzdf.IrotX5l7bNlJwQLYSK81YjjyRGrTdmi2y5J4gLwMvA3\",\n            \"resource\": {\n                \"resourceType\": \"Observation\",\n                \"id\": \"eVNtTeUk7rGw8ANthUDzdf.IrotX5l7bNlJwQLYSK81YjjyRGrTdmi2y5J4gLwMvA3\",\n                \"basedOn\": [\n                    {\n                        \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/ProcedureRequest/enAUwSSpKZSC0.xEsuSdgiyfoQ5WW55FjygL7YREC4QU3\"\n                    }\n                ],\n                \"status\": \"final\",\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://snomed.info/sct\",\n                                \"code\": \"252275004\",\n                                \"display\": \"Hematology test (procedure)\"\n                            }\n                        ],\n                        \"text\": \"Hematology test (procedure)\"\n                    },\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://hl7.org/fhir/observation-category\",\n                                \"code\": \"laboratory\",\n                                \"display\": \"Laboratory\"\n                            }\n                        ],\n                        \"text\": \"Laboratory\"\n                    },\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"urn:oid:1.2.840.114350.1.13.861.1.7.10.798268.30\",\n                                \"code\": \"Lab Only\",\n                                \"display\": \"Lab Only\"\n                            }\n                        ],\n                        \"text\": \"Lab Only\"\n                    }\n                ],\n                \"code\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://loinc.org\",\n                            \"code\": \"51880-3\",\n                            \"display\": \"Packed erythrocytes units given [#]\"\n                        },\n                        {\n                            \"system\": \"urn:oid:1.2.840.114350.1.13.861.1.7.2.768282\",\n                            \"code\": \"4088\",\n                            \"display\": \"DKF RBC\"\n                        }\n                    ],\n                    \"text\": \"DKF RBC\"\n                },\n                \"subject\": {\n                    \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Patient/em2zwhHegmZEu39N4dUEIYA3\",\n                    \"display\": \"Friend, Caly F Sr.\"\n                },\n                \"context\": {\n                    \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Encounter/eFtZP-IbR5djPIoNQQ3OdRprHr0M24BDnnqEFHojvXxM3\"\n                },\n                \"effectiveDateTime\": \"2021-08-19T05:00:00Z\",\n                \"issued\": \"2021-08-20T00:49:40Z\",\n                \"valueQuantity\": {\n                    \"value\": 55\n                },\n                \"specimen\": {\n                    \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Specimen/eNb1mwVj6uN31C-NyO3MEVQ8ZzPMmt2TLw1YoBpuZzb83\"\n                }\n            },\n            \"search\": {\n                \"mode\": \"match\"\n            }\n        },\n        {\n            \"link\": [\n                {\n                    \"relation\": \"self\",\n                    \"url\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Observation/evCqoUPrtZkCH6qUADRgQN5HW6VoqP5lR9xiEvQrqnI4UOB5UOMPkeSbw3SgEng8e3\"\n                }\n            ],\n            \"fullUrl\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Observation/evCqoUPrtZkCH6qUADRgQN5HW6VoqP5lR9xiEvQrqnI4UOB5UOMPkeSbw3SgEng8e3\",\n            \"resource\": {\n                \"resourceType\": \"Observation\",\n                \"id\": \"evCqoUPrtZkCH6qUADRgQN5HW6VoqP5lR9xiEvQrqnI4UOB5UOMPkeSbw3SgEng8e3\",\n                \"basedOn\": [\n                    {\n                        \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/ProcedureRequest/edR4M6xA4LHj0f4AbJih049zj5EXI2bQz-qjtESdTXB43\"\n                    }\n                ],\n                \"status\": \"final\",\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://snomed.info/sct\",\n                                \"code\": \"252275004\",\n                                \"display\": \"Hematology test (procedure)\"\n                            }\n                        ],\n                        \"text\": \"Hematology test (procedure)\"\n                    },\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://hl7.org/fhir/observation-category\",\n                                \"code\": \"laboratory\",\n                                \"display\": \"Laboratory\"\n                            }\n                        ],\n                        \"text\": \"Laboratory\"\n                    },\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"urn:oid:1.2.840.114350.1.13.861.1.7.10.798268.30\",\n                                \"code\": \"Lab Only\",\n                                \"display\": \"Lab Only\"\n                            }\n                        ],\n                        \"text\": \"Lab Only\"\n                    }\n                ],\n                \"code\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://loinc.org\",\n                            \"code\": \"51880-3\",\n                            \"display\": \"Packed erythrocytes units given [#]\"\n                        },\n                        {\n                            \"system\": \"urn:oid:1.2.840.114350.1.13.861.1.7.2.768282\",\n                            \"code\": \"4088\",\n                            \"display\": \"DKF RBC\"\n                        }\n                    ],\n                    \"text\": \"DKF RBC\"\n                },\n                \"subject\": {\n                    \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Patient/em2zwhHegmZEu39N4dUEIYA3\",\n                    \"display\": \"Friend, Caly F Sr.\"\n                },\n                \"context\": {\n                    \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Encounter/eFtZP-IbR5djPIoNQQ3OdRprHr0M24BDnnqEFHojvXxM3\"\n                },\n                \"effectiveDateTime\": \"2021-08-19T05:00:00Z\",\n                \"issued\": \"2021-08-20T13:57:31Z\",\n                \"valueQuantity\": {\n                    \"value\": 65\n                },\n                \"specimen\": {\n                    \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Specimen/eOuz3qX98XXdgPq733Lzq9Y-b-Imb3vb9ykpOnfbmL3Y3\"\n                }\n            },\n            \"search\": {\n                \"mode\": \"match\"\n            }\n        },\n        {\n            \"link\": [\n                {\n                    \"relation\": \"self\",\n                    \"url\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Observation/eq8Gn54WaD--x1mNu9Wk3Lxyk-YeLpaWeSnuswQGoNsZlaS90E8aZ7pSy9jeMG2pz3\"\n                }\n            ],\n            \"fullUrl\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Observation/eq8Gn54WaD--x1mNu9Wk3Lxyk-YeLpaWeSnuswQGoNsZlaS90E8aZ7pSy9jeMG2pz3\",\n            \"resource\": {\n                \"resourceType\": \"Observation\",\n                \"id\": \"eq8Gn54WaD--x1mNu9Wk3Lxyk-YeLpaWeSnuswQGoNsZlaS90E8aZ7pSy9jeMG2pz3\",\n                \"basedOn\": [\n                    {\n                        \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/ProcedureRequest/eGan955RZsh6ekCes.1d63b7Fl6G5EFN3XYuo2mufg603\"\n                    }\n                ],\n                \"status\": \"final\",\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://snomed.info/sct\",\n                                \"code\": \"252275004\",\n                                \"display\": \"Hematology test (procedure)\"\n                            }\n                        ],\n                        \"text\": \"Hematology test (procedure)\"\n                    },\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://hl7.org/fhir/observation-category\",\n                                \"code\": \"laboratory\",\n                                \"display\": \"Laboratory\"\n                            }\n                        ],\n                        \"text\": \"Laboratory\"\n                    },\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"urn:oid:1.2.840.114350.1.13.861.1.7.10.798268.30\",\n                                \"code\": \"Lab Only\",\n                                \"display\": \"Lab Only\"\n                            }\n                        ],\n                        \"text\": \"Lab Only\"\n                    }\n                ],\n                \"code\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"urn:oid:1.2.840.114350.1.13.861.1.7.2.768282\",\n                            \"code\": \"4089\",\n                            \"display\": \"DKF WBC\"\n                        }\n                    ],\n                    \"text\": \"DKF WBC\"\n                },\n                \"subject\": {\n                    \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Patient/em2zwhHegmZEu39N4dUEIYA3\",\n                    \"display\": \"Friend, Caly F Sr.\"\n                },\n                \"context\": {\n                    \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Encounter/eFtZP-IbR5djPIoNQQ3OdRprHr0M24BDnnqEFHojvXxM3\"\n                },\n                \"effectiveDateTime\": \"2021-08-20T05:00:00Z\",\n                \"issued\": \"2021-08-20T13:58:25Z\",\n                \"valueQuantity\": {\n                    \"value\": 47\n                },\n                \"specimen\": {\n                    \"reference\": \"https://vs-icx18-25.epic.com/Interconnect-FHIR-CDE-Unsecured/api/FHIR/STU3/Specimen/eZz7xyJBknac39vAN-anFt6jgCNJwE0K-aWXFeqRLeUg3\"\n                }\n            },\n            \"search\": {\n                \"mode\": \"match\"\n            }\n        }\n    ]\n}","Remarks":null,"Errors":[],"ChangeLog":null,"ImportSections":{},"Parameters":{"RequestRootType":{"Id":431995,"Name":"Request","AltName":null,"Type":null,"Description":null,"Optional":null,"IsArray":false,"Children":{"category":{"Id":431996,"Name":"category","AltName":null,"Type":"String","Description":"<p>One of the following SNOMED codes that are mapped to result components (with Dutch translation):</p>\n<ul>\n<li>252275004-Hematology (Hematologie)</li>\n<li>275711006-Chemistry (Klinische chemie)</li>\n<li>68793005-Serology (Serologie/ immunologie)</li>\n<li>395124008-Virology (Virologie)</li>\n<li>314076009-Toxicology (Toxicologie)</li>\n<li>19851009-Microbiology (Microbiologie)</li>\n<li>405825005-Molecular genetics (Moleculaire genetica)</li>\n</ul>","Optional":"False","IsArray":false,"Children":{},"Order":1,"TypeId":10021},"max":{"Id":431998,"Name":"max","AltName":null,"Type":"String","Description":"<p>The maximum amount of responses for each subtype of the category. If not set, the default is 1, which means one response for each subtype.</p><p>\nNote that your response might return more responses per subtype than configured if multiple components have the same effective datetime.</p>","Optional":"False","IsArray":false,"Children":{},"Order":1,"TypeId":10023},"patient":{"Id":431999,"Name":"patient","AltName":null,"Type":"String","Description":"The reference to a patient resource.","Optional":"Either patient or subject must be provided. If both are provided, they must reference the same patient.","IsArray":false,"Children":{},"Order":1,"TypeId":10024},"subject":{"Id":432000,"Name":"subject","AltName":null,"Type":"String","Description":"The reference to a patient resource.","Optional":"Either patient or subject must be provided. If both are provided, they must reference the same patient.","IsArray":false,"Children":{},"Order":1,"TypeId":10025}},"Order":0,"TypeId":10020},"ResponseRootType":{"Id":432001,"Name":"Response","AltName":null,"Type":null,"Description":null,"Optional":null,"IsArray":false,"Children":{"Bundle":{"Id":432002,"Name":"Bundle","AltName":null,"Type":"Bundle","Description":"Resource bundle. For more information, refer to the <a href=\"https://www.hl7.org/fhir/bundle.html\">FHIR specification</a>.","Optional":"False","IsArray":false,"Children":{"entry":{"Id":432066,"Name":"entry","AltName":null,"Type":"Entry","Description":"A single entry in the resource bundle.","Optional":"False","IsArray":true,"Children":{"resource":{"Id":432077,"Name":"resource","AltName":null,"Type":"ResourceContainer","Description":"A single resource returned as part of this bundle.","Optional":"False","IsArray":false,"Children":{"Observation":{"Id":432078,"Name":"Observation","AltName":null,"Type":"Observation","Description":"A single Observation FHIR resource.","Optional":"False","IsArray":false,"Children":{"basedOn":{"Id":432149,"Name":"basedOn","AltName":null,"Type":"Reference","Description":"The procedure or service this observation is associated with.","Optional":"True","IsArray":true,"Children":{},"Order":10005,"TypeId":38},"category":{"Id":432179,"Name":"category","AltName":null,"Type":"CodeableConcept","Description":"<p>The Observation type. Always \"laboratory\".</p>\n<p>This also includes a code entry for the result type, using the <a href=\"https://zibs.nl/wiki/LaboratoryTestResult-v4.6(2020EN)#ResultTypeCodelist\">ResultTypeCodelist and Order Type values</a>. Starting in February 2022 and in November 2021 with a special update, Netherlands-specific SNOMED code 49581000146104-Laboratory Test Finding (Finding) is also returned.</p>","Optional":"False","IsArray":true,"Children":{},"Order":10005,"TypeId":31},"code":{"Id":432191,"Name":"code","AltName":null,"Type":"CodeableConcept","Description":"<p>Code of the Observation.</p>\n<table class=\"table table-hover\">\n<tr>\n<th>Observation Grouper</th>\n<th>Code Description</th>\n</tr>\n<tr>\n<td>Component</td>\n<td>The component name</td>\n</tr>\n<tr>\n<td>Method</td>\n<td>The procedure code</td>\n</tr>\n<tr>\n<td>Isolate</td>\n<td>The isolate LOINC code</td>\n</tr>\n<tr>\n<td>Narrative or Impression</td>\n<td>Set to \"Narrative\" or \"Impression\"</td>\n</tr>\n<tr>\n<td>Addendum</td>\n<td>Set to \"Addendum\" or \"Unsigned Addendum\"</td>\n</tr>\n<tr>\n<td>Sensitivity</td>\n<td>The antibiotic code</td>\n</tr>\n</table>","Optional":"False","IsArray":false,"Children":{},"Order":10005,"TypeId":31},"comment":{"Id":432089,"Name":"comment","AltName":null,"Type":"String","Description":"Comments about the result.","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":4627},"context":{"Id":432233,"Name":"context","AltName":null,"Type":"Reference","Description":"The Encounter FHIR ID linked to the order.","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":38},"effectiveDateTime":{"Id":432083,"Name":"effectiveDateTime","AltName":null,"Type":"String","Description":"The prioritized instant. This is the instant the results were last updated.","Optional":"False","IsArray":false,"Children":{},"Order":10005,"TypeId":4621},"id":{"Id":432079,"Name":"id","AltName":null,"Type":"String","Description":"The Observation FHIR ID.","Optional":"False","IsArray":false,"Children":{},"Order":10005,"TypeId":4617},"interpretation":{"Id":432401,"Name":"interpretation","AltName":null,"Type":"CodeableConcept","Description":"The level of abnormality. If the value isn't mapped we will just send the text value in the Codeable concept. Relevant for sensitivities.","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":31},"issued":{"Id":432084,"Name":"issued","AltName":null,"Type":"String","Description":"The observation instant.","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":4622},"method":{"Id":432425,"Name":"method","AltName":null,"Type":"CodeableConcept","Description":"SNOMED code mapped to procedure.","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":31},"performer":{"Id":432268,"Name":"performer","AltName":null,"Type":"Reference","Description":"A reference to the resulting agency's director's Practitioner resource.","Optional":"True","IsArray":true,"Children":{},"Order":10005,"TypeId":38},"referenceRange":{"Id":432497,"Name":"referenceRange","AltName":null,"Type":"ReferenceRange","Description":"The reference range for the result, if applicable.","Optional":"True","IsArray":true,"Children":{"high":{"Id":432510,"Name":"high","AltName":null,"Type":"Quantity","Description":"The high value of the reference range.","Optional":"True","IsArray":false,"Children":{},"Order":10006,"TypeId":270},"low":{"Id":432502,"Name":"low","AltName":null,"Type":"Quantity","Description":"The low value of the reference range.","Optional":"True","IsArray":false,"Children":{},"Order":10006,"TypeId":270},"text":{"Id":432499,"Name":"text","AltName":null,"Type":"String","Description":"Display version of reference range.","Optional":"True","IsArray":false,"Children":{},"Order":10006,"TypeId":4638}},"Order":10005,"TypeId":4636},"related":{"Id":432561,"Name":"related","AltName":null,"Type":"Related","Description":"Resource related to this observation.","Optional":"True","IsArray":true,"Children":{},"Order":10005,"TypeId":4639},"status":{"Id":432082,"Name":"status","AltName":null,"Type":"String","Description":"<p>The status of the lab order.</p>\n<p>For organizations in the Netherlands, this element can also include a TestResultStatus extension that indicates the test result status.</p>","Optional":"False","IsArray":false,"Children":{},"Order":10005,"TypeId":4620},"subject":{"Id":432203,"Name":"subject","AltName":null,"Type":"Reference","Description":"The Patient FHIR ID linked to the order.","Optional":"False","IsArray":false,"Children":{},"Order":10005,"TypeId":38},"valueCodeableConcept":{"Id":432306,"Name":"valueCodeableConcept","AltName":null,"Type":"CodeableConcept","Description":"This element is populated only if a SNOMED code is associated with the component.","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":31},"valueQuantity":{"Id":432298,"Name":"valueQuantity","AltName":null,"Type":"Quantity","Description":"The result value if the result is numeric and represents a quantity.","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":270},"valueRange":{"Id":432318,"Name":"valueRange","AltName":null,"Type":"Range","Description":"This element is populated only if the result is structured numeric and the operator is \"-\".","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":268},"valueRatio":{"Id":432337,"Name":"valueRatio","AltName":null,"Type":"Ratio","Description":"This element is populated only if the result is structured numeric and the operator is \":\".","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":4542},"valueString":{"Id":432085,"Name":"valueString","AltName":null,"Type":"String","Description":"The result value if the result is a string.","Optional":"True","IsArray":false,"Children":{},"Order":10005,"TypeId":4623}},"Order":10004,"TypeId":4616}},"Order":10003,"TypeId":25}},"Order":10002,"TypeId":458}},"Order":10001,"TypeId":448}},"Order":10000,"TypeId":10026}},"Banners":[],"Success":true,"Message":null}